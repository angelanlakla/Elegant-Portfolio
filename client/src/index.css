@import "tailwindcss";
@import "tw-animate-css";

@custom-variant dark (&:is(.dark *));

@theme inline {
  --font-sans: 'Inter', 'Noto Sans SC', sans-serif;
  --font-serif: 'Noto Serif SC', 'Playfair Display', serif;

  --color-background: hsl(var(--background));
  --color-foreground: hsl(var(--foreground));
  --color-card: hsl(var(--card));
  --color-card-foreground: hsl(var(--card-foreground));
  --color-popover: hsl(var(--popover));
  --color-popover-foreground: hsl(var(--popover-foreground));
  --color-primary: hsl(var(--primary));
  --color-primary-foreground: hsl(var(--primary-foreground));
  --color-secondary: hsl(var(--secondary));
  --color-secondary-foreground: hsl(var(--secondary-foreground));
  --color-muted: hsl(var(--muted));
  --color-muted-foreground: hsl(var(--muted-foreground));
  --color-accent: hsl(var(--accent));
  --color-accent-foreground: hsl(var(--accent-foreground));
  --color-destructive: hsl(var(--destructive));
  --color-destructive-foreground: hsl(var(--destructive-foreground));
  --color-border: hsl(var(--border));
  --color-input: hsl(var(--input));
  --color-ring: hsl(var(--ring));
  
  --radius-sm: calc(var(--radius) - 4px);
  --radius-md: calc(var(--radius) - 2px);
  --radius-lg: var(--radius);
}

:root {
  /* Light: #F4F6F8 */
  --background: 210 17% 97%; 
  /* Dark: #2E3A45 */
  --foreground: 210 20% 23%;
  
  --card: 0 0% 100%;
  --card-foreground: 210 20% 23%;
  
  /* Primary: #5F7285 */
  --primary: 210 17% 45%; 
  --primary-foreground: 0 0% 100%;
  
  /* Gray: #8A9BA8 */
  --secondary: 205 15% 60%;
  --secondary-foreground: 210 20% 23%;
  
  /* Accent: #AEBACC */
  --accent: 214 20% 74%;
  --accent-foreground: 210 20% 23%;

  --muted: 210 15% 94%;
  --muted-foreground: 205 15% 60%;
  
  --border: 210 15% 90%;
  --input: 210 15% 90%;
  --ring: 210 17% 45%;
  
  --radius: 0.25rem;
}

@layer base {
  * {
    @apply border-border;
  }
  body {
    @apply font-sans antialiased bg-background text-foreground selection:bg-primary/10 relative;
    line-height: 1.5;
  }
  body::before {
    content: "";
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    pointer-events: none;
    background: url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.65' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)'/%3E%3C/svg%3E");
    opacity: 0.02;
    z-index: 100;
  }
  h1 { @apply text-[40px] md:text-[48px] font-semibold tracking-[0.5px] leading-tight; }
  h2 { @apply text-[32px] md:text-[36px] font-semibold tracking-[0.5px] leading-tight; }
  h3 { @apply text-[24px] md:text-[28px] font-semibold tracking-[0.5px] leading-tight; }
  p { @apply text-[16px] md:text-[18px] leading-[1.5]; }
}

@layer utilities {
  .container-custom {
    @apply max-w-[1440px] mx-auto px-6 md:px-8;
  }
  .grid-system {
    @apply grid grid-cols-4 md:grid-cols-12 gap-6;
  }
  
  .btn-beam {
    @apply relative overflow-hidden;
  }
  
  .btn-beam::after {
    content: '';
    @apply absolute inset-0 rounded-[inherit] p-[1.5px];
    background: conic-gradient(from 0deg, transparent 0%, var(--color-primary) 10%, transparent 20%);
    mask: linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0);
    mask-composite: exclude;
    opacity: 0;
    transition: opacity 0.3s ease;
  }

  .btn-beam:hover::after {
    opacity: 1;
    animation: beam-rotate 3s linear infinite;
  }

  @keyframes beam-rotate {
    from { transform: rotate(0deg); }
    to { transform: rotate(360deg); }
  }

  .spotlight-card {
    @apply relative overflow-hidden bg-white/40 border border-border/40 transition-all duration-500;
  }

  .spotlight-card:hover {
    @apply bg-white shadow-xl shadow-primary/5 border-primary/20 -translate-y-1;
  }

  .spotlight-card::before {
    content: "";
    @apply pointer-events-none absolute -inset-px z-10 opacity-0 transition-opacity duration-300;
    background: radial-gradient(
      600px circle at var(--mouse-x) var(--mouse-y),
      rgba(95, 114, 133, 0.1),
      transparent 80%
    );
    opacity: var(--active, 0);
  }

  /* Refined spotlight for subtle feel */
  .spotlight-card::after {
    content: "";
    @apply pointer-events-none absolute inset-0 z-10 opacity-0 transition-opacity duration-300;
    background: radial-gradient(
      400px circle at var(--mouse-x) var(--mouse-y),
      rgba(95, 114, 133, 0.08),
      transparent 80%
    );
    opacity: var(--active, 0);
  }
}
  /* 强制头像彩色 */
  img, .avatar, [class*="avatar"] {
    filter: none !important; /* 移除黑白滤镜 */
    -webkit-filter: none !important;
  }

  /* 底部 Footer 缩减 */
  footer, .footer, [class*="footer"] {
    padding-top: 20px !important;
    padding-bottom: 20px !important;
    min-height: auto !important;
  }

  /* 调整底部图标大小 */
  footer img, .footer svg {
    width: 24px !important;
    height: 24px !important;
  }

  /* 确保工作经历文字不折叠 */
  .experience-content, [class*="Experience"] p {
    white-space: pre-wrap !important; /* 保留换行 */
    word-break: break-word !important;
    text-align: justify;
  }
  /* 强制显示底部联系信息 */
  #contact span {
    display: inline-block !important;
    visibility: visible !important;
    opacity: 1 !important;
    color: #ffffff !important;
    font-size: 14px !important;
  }

  #contact a {
    display: flex !important;
    align-items: center !important;
    text-decoration: none !important;
  }

  /* 确保底部有足够空间，不被遮挡 */
  footer {
    position: relative !important;
    z-index: 50 !important;
    min-height: 200px !important;
  }